{
    "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
    "name": "angular-pug",
    "scopeName": "text.pug",
    "patterns": [
        {
            "captures": {
                "1": {
                    "name": "keyword.operator.exclamation"
                },
                "2": {
                    "name": "constant.character.entity.html"
                }
            },
            "match": "^(!!!|doctype)(\\s*[a-zA-Z0-9-_]+)?",
            "name": "meta.tag.sgml.doctype.html",
            "comment": "Doctype declaration."
        },
        {
            "begin": "^(\\s*)//-",
            "end": "^(?!(\\1\\s)|\\s*$)",
            "name": "comment.unbuffered.block.pug",
            "comment": "Unbuffered (pug-only) comments."
        },
        {
            "begin": "^(\\s*)//",
            "end": "^(?!(\\1\\s)|\\s*$)",
            "name": "comment.buffered.block.pug",
            "comment": "Buffered (html) comments.",
            "patterns": [
                {
                    "captures": {
                        "1": {
                            "name": "invalid.illegal.comment.comment.block.pug"
                        }
                    },
                    "match": "^\\s*(//)(?!-)",
                    "name": "comment.buffered.block.pug",
                    "comment": "Buffered comments inside buffered comments will generate invalid html."
                }
            ]
        },
        {
            "begin": "<!--",
            "end": "--\\s*>",
            "name": "comment.unbuffered.block.pug",
            "patterns": [
                {
                    "match": "--",
                    "name": "invalid.illegal.comment.comment.block.pug"
                }
            ]
        },
        {
            "begin": "^(\\s*)-$",
            "end": "^(?!(\\1\\s)|\\s*$)",
            "name": "source.js",
            "comment": "Unbuffered code block.",
            "patterns": [
                {
                    "include": "source.js"
                }
            ]
        },
        {
            "begin": "^(\\s*)(script)((\\.$)|(?=[^\\n]*(text|application)/javascript.*\\.$))",
            "beginCaptures": {
                "2": {
                    "name": "entity.name.tag.pug"
                }
            },
            "end": "^(?!(\\1\\s)|\\s*$)",
            "name": "meta.tag.other",
            "comment": "Script tag with JavaScript code.",
            "patterns": [
                {
                    "begin": "\\G(?=\\()",
                    "end": "$",
                    "patterns": [
                        {
                            "include": "#tag_attributes"
                        }
                    ]
                },
                {
                    "begin": "\\G(?=[.#])",
                    "end": "$",
                    "patterns": [
                        {
                            "include": "#complete_tag"
                        }
                    ]
                },
                {
                    "include": "source.js"
                }
            ]
        },
        {
            "begin": "^(\\s*)(style)((\\.$)|(?=[.#(].*\\.$))",
            "beginCaptures": {
                "2": {
                    "name": "entity.name.tag.pug"
                }
            },
            "end": "^(?!(\\1\\s)|\\s*$)",
            "name": "meta.tag.other",
            "comment": "Style tag with CSS code.",
            "patterns": [
                {
                    "begin": "\\G(?=\\()",
                    "end": "$",
                    "patterns": [
                        {
                            "include": "#tag_attributes"
                        }
                    ]
                },
                {
                    "begin": "\\G(?=[.#])",
                    "end": "$",
                    "patterns": [
                        {
                            "include": "#complete_tag"
                        }
                    ]
                },
                {
                    "include": "source.css"
                }
            ]
        },
        {
            "begin": "^(\\s*):(sass)(?=\\(|$)",
            "beginCaptures": {
                "2": {
                    "name": "constant.language.name.sass.filter.pug"
                }
            },
            "end": "^(?!(\\1\\s)|\\s*$)",
            "name": "source.sass.filter.pug",
            "patterns": [
                {
                    "include": "#tag_attributes"
                },
                {
                    "include": "source.sass"
                }
            ]
        },
        {
            "begin": "^(\\s*):(less)(?=\\(|$)",
            "beginCaptures": {
                "2": {
                    "name": "constant.language.name.less.filter.pug"
                }
            },
            "end": "^(?!(\\1\\s)|\\s*$)",
            "name": "source.less.filter.pug",
            "patterns": [
                {
                    "include": "#tag_attributes"
                },
                {
                    "include": "source.less"
                }
            ]
        },
        {
            "begin": "^(\\s*):(stylus)(?=\\(|$)",
            "beginCaptures": {
                "2": {
                    "name": "constant.language.name.stylus.filter.pug"
                }
            },
            "end": "^(?!(\\1\\s)|\\s*$)",
            "patterns": [
                {
                    "include": "#tag_attributes"
                },
                {
                    "include": "source.stylus"
                }
            ]
        },
        {
            "begin": "^(\\s*):(coffee(-?script)?)(?=\\(|$)",
            "beginCaptures": {
                "2": {
                    "name": "constant.language.name.coffeescript.filter.pug"
                }
            },
            "end": "^(?!(\\1\\s)|\\s*$)",
            "name": "source.coffeescript.filter.pug",
            "patterns": [
                {
                    "include": "#tag_attributes"
                },
                {
                    "include": "source.coffee"
                }
            ]
        },
        {
            "begin": "^(\\s*)((:(?=.))|(:$))",
            "beginCaptures": {
                "4": {
                    "name": "invalid.illegal.empty.generic.filter.pug"
                }
            },
            "end": "^(?!(\\1\\s)|\\s*$)",
            "comment": "Generic Pug filter.",
            "patterns": [
                {
                    "begin": "\\G(?<=:)(?=.)",
                    "end": "$",
                    "name": "name.generic.filter.pug",
                    "patterns": [
                        {
                            "match": "\\G\\(",
                            "name": "invalid.illegal.name.generic.filter.pug"
                        },
                        {
                            "match": "[\\w-]",
                            "name": "constant.language.name.generic.filter.pug"
                        },
                        {
                            "include": "#tag_attributes"
                        },
                        {
                            "match": "\\W",
                            "name": "invalid.illegal.name.generic.filter.pug"
                        }
                    ]
                }
            ]
        },
        {
            "begin": "^(\\s*)(?=[\\w.#].*?\\.$)(?=(?:(?:(?:(?:(?:#[\\w-]+)|(?:\\.[\\w-]+))|(?:(?:[#!]\\{[^}]*\\})|(?:\\w(?:(?:[\\w:-]+[\\w-])|(?:[\\w-]*)))))(?:(?:#[\\w-]+)|(?:\\.[\\w-]+)|(?:\\((?:[^()\\'\\\"]*(?:(?:\\'(?:[^\\']|(?:(?<!\\\\)\\\\\\'))*\\')|(?:\\\"(?:[^\\\"]|(?:(?<!\\\\)\\\\\\\"))*\\\")))*[^()]*\\))*)*)(?:(?:(?::\\s+)|(?<=\\)))(?:(?:(?:(?:#[\\w-]+)|(?:\\.[\\w-]+))|(?:(?:[#!]\\{[^}]*\\})|(?:\\w(?:(?:[\\w:-]+[\\w-])|(?:[\\w-]*)))))(?:(?:#[\\w-]+)|(?:\\.[\\w-]+)|(?:\\((?:[^()\\'\\\"]*(?:(?:\\'(?:[^\\']|(?:(?<!\\\\)\\\\\\'))*\\')|(?:\\\"(?:[^\\\"]|(?:(?<!\\\\)\\\\\\\"))*\\\")))*[^()]*\\))*)*))*)\\.$)(?:(?:(#[\\w-]+)|(\\.[\\w-]+))|((?:[#!]\\{[^}]*\\})|(?:\\w(?:(?:[\\w:-]+[\\w-])|(?:[\\w-]*)))))",
            "beginCaptures": {
                "2": {
                    "name": "entity.other.attribute-name.id.pug"
                },
                "3": {
                    "name": "entity.other.attribute-name.class.pug"
                },
                "4": {
                    "name": "meta.tag.other entity.name.tag.pug"
                }
            },
            "end": "^(?!(\\1\\s)|\\s*$)",
            "comment": "Generated from dot_block_tag.py",
            "patterns": [
                {
                    "include": "#tag_attributes"
                },
                {
                    "include": "#complete_tag"
                },
                {
                    "begin": "^(?=.)",
                    "end": "$",
                    "name": "text.block.pug",
                    "patterns": [
                        {
                            "include": "#inline_pug"
                        },
                        {
                            "include": "#embedded_html"
                        },
                        {
                            "include": "#html_entity"
                        },
                        {
                            "include": "#interpolated_value"
                        },
                        {
                            "include": "#interpolated_error"
                        },
                        {
                            "include": "#angular-interpolations"
                        },
                        {
                            "include": "#regex"
                        }
                    ]
                }
            ]
        },
        {
            "begin": "^\\s*",
            "end": "$",
            "comment": "All constructs that generally span a single line starting with any number of white-spaces.",
            "patterns": [
                {
                    "include": "#inline_pug"
                },
                {
                    "include": "#blocks_and_includes"
                },
                {
                    "include": "#unbuffered_code"
                },
                {
                    "include": "#mixin_definition"
                },
                {
                    "include": "#mixin_call"
                },
                {
                    "include": "#flow_control"
                },
                {
                    "include": "#case_conds"
                },
                {
                    "begin": "\\|",
                    "end": "$",
                    "name": "text.block.pipe.pug",
                    "comment": "Tag pipe text line.",
                    "patterns": [
                        {
                            "include": "#inline_pug"
                        },
                        {
                            "include": "#embedded_html"
                        },
                        {
                            "include": "#html_entity"
                        },
                        {
                            "include": "#interpolated_value"
                        },
                        {
                            "include": "#interpolated_error"
                        },
                        {
                            "include": "#angular-interpolations"
                        },
                        {
                            "include": "#regex"
                        }
                    ]
                },
                {
                    "include": "#printed_expression"
                },
                {
                    "begin": "\\G(?=(#[^\\{\\w-])|[^\\w.#])",
                    "end": "$",
                    "comment": "Line starting with characters incompatible with tag name/id/class is standalone text.",
                    "patterns": [
                        {
                            "begin": "</?(?=[!#])",
                            "end": ">|$",
                            "patterns": [
                                {
                                    "include": "#inline_pug"
                                },
                                {
                                    "include": "#interpolated_value"
                                },
                                {
                                    "include": "#interpolated_error"
                                },
                                {
                                    "include": "#angular-interpolations"
                                },
                                {
                                    "include": "#regex"
                                }
                            ]
                        },
                        {
                            "include": "#inline_pug"
                        },
                        {
                            "include": "#embedded_html"
                        },
                        {
                            "include": "#html_entity"
                        },
                        {
                            "include": "#interpolated_value"
                        },
                        {
                            "include": "#interpolated_error"
                        },
                        {
                            "include": "#angular-interpolations"
                        },
                        {
                            "include": "#regex"
                        }
                    ]
                },
                {
                    "include": "#complete_tag"
                }
            ]
        }
    ],
    "repository": {
        "babel_parens": {
            "begin": "\\(",
            "end": "\\)|(({\\s*)?$)",
            "patterns": [
                {
                    "include": "#babel_parens"
                },
                {
                    "include": "source.js"
                }
            ]
        },
        "blocks_and_includes": {
            "captures": {
                "1": {
                    "name": "storage.type.import.include.pug"
                },
                "4": {
                    "name": "variable.control.import.include.pug"
                }
            },
            "match": "(extends|include|yield|append|prepend|block( (append|prepend))?)\\s+(.*)$",
            "name": "meta.first-class.pug",
            "comment": "Template blocks and includes."
        },
        "case_conds": {
            "begin": "(default|when)((\\s+|(?=:))|$)",
            "captures": {
                "1": {
                    "name": "storage.type.function.pug"
                }
            },
            "end": "$",
            "name": "meta.control.flow.pug",
            "comment": "Pug case conditionals.",
            "patterns": [
                {
                    "begin": "\\G(?!:)",
                    "end": "(?=:\\s+)|$",
                    "name": "js.embedded.control.flow.pug",
                    "patterns": [
                        {
                            "include": "#case_when_paren"
                        },
                        {
                            "include": "source.js"
                        }
                    ]
                },
                {
                    "begin": ":\\s+",
                    "end": "$",
                    "name": "tag.case.control.flow.pug",
                    "patterns": [
                        {
                            "include": "#complete_tag"
                        }
                    ]
                }
            ]
        },
        "case_when_paren": {
            "begin": "\\(",
            "end": "\\)",
            "name": "js.when.control.flow.pug",
            "patterns": [
                {
                    "include": "#case_when_paren"
                },
                {
                    "match": ":",
                    "name": "invalid.illegal.name.tag.pug"
                },
                {
                    "include": "source.js"
                }
            ]
        },
        "complete_tag": {
            "begin": "(?=[\\w.#])|(:\\s*)",
            "end": "(\\.?$)|(?=:.)",
            "patterns": [
                {
                    "include": "#blocks_and_includes"
                },
                {
                    "include": "#unbuffered_code"
                },
                {
                    "include": "#mixin_call"
                },
                {
                    "include": "#flow_control"
                },
                {
                    "match": "(?<=:)\\w.*$",
                    "name": "invalid.illegal.name.tag.pug"
                },
                {
                    "include": "#tag_name"
                },
                {
                    "include": "#tag_id"
                },
                {
                    "include": "#tag_classes"
                },
                {
                    "include": "#tag_attributes"
                },
                {
                    "include": "#tag_mixin_attributes"
                },
                {
                    "match": "((\\.)\\s+$)|((:)\\s*$)",
                    "captures": {
                        "2": {
                            "name": "invalid.illegal.end.tag.pug"
                        },
                        "4": {
                            "name": "invalid.illegal.end.tag.pug"
                        }
                    }
                },
                {
                    "include": "#printed_expression"
                },
                {
                    "include": "#tag_text"
                }
            ]
        },
        "embedded_html": {
            "begin": "(?=<[^>]*>)",
            "end": "$|(?=>)",
            "name": "html",
            "patterns": [
                {
                    "include": "text.html.basic"
                },
                {
                    "include": "#interpolated_value"
                },
                {
                    "include": "#interpolated_error"
                }
            ]
        },
        "flow_control": {
            "begin": "(for|if|else if|else|each|until|while|unless|case)(\\s+|$)",
            "captures": {
                "1": {
                    "name": "storage.type.function.pug"
                }
            },
            "end": "$",
            "name": "meta.control.flow.pug",
            "comment": "Pug control flow.",
            "patterns": [
                {
                    "begin": "",
                    "end": "$",
                    "name": "js.embedded.control.flow.pug",
                    "patterns": [
                        {
                            "include": "source.js"
                        }
                    ]
                }
            ]
        },
        "html_entity": {
            "patterns": [
                {
                    "captures": {
                        "1": {
                            "name": "keyword.control.semicolon.js"
                        },
                        "3": {
                            "name": "keyword.control.amperstand.js"
                        }
                    },
                    "match": "(&)([a-zA-Z0-9]+|#[0-9]+|#x[0-9a-fA-F]+)(;)",
                    "name": "constant.character.entity.html"
                }
            ]
        },
        "inline_pug_text": {
            "begin": "",
            "end": "(?=\\])",
            "patterns": [
                {
                    "begin": "\\[",
                    "end": "\\]",
                    "patterns": [
                        {
                            "include": "#inline_pug_text"
                        }
                    ]
                },
                {
                    "include": "#inline_pug"
                },
                {
                    "include": "#embedded_html"
                },
                {
                    "include": "#html_entity"
                },
                {
                    "include": "#interpolated_value"
                },
                {
                    "include": "#interpolated_error"
                }
            ]
        },
        "inline_pug": {
            "begin": "(?<!\\\\)(#\\[)",
            "captures": {
                "1": {
                    "name": "entity.name.function.pug"
                },
                "2": {
                    "name": "entity.name.function.pug"
                }
            },
            "end": "(\\])",
            "name": "inline.pug",
            "patterns": [
                {
                    "include": "#inline_pug"
                },
                {
                    "include": "#mixin_call"
                },
                {
                    "begin": "(?<!\\])(?=[\\w.#])|(:\\s*)",
                    "end": "(?=\\]|(:.)|=|\\s)",
                    "name": "tag.inline.pug",
                    "patterns": [
                        {
                            "include": "#tag_name"
                        },
                        {
                            "include": "#tag_id"
                        },
                        {
                            "include": "#tag_classes"
                        },
                        {
                            "include": "#tag_attributes"
                        },
                        {
                            "include": "#tag_mixin_attributes"
                        },
                        {
                            "include": "#inline_pug"
                        },
                        {
                            "match": "\\[",
                            "name": "invalid.illegal.tag.pug"
                        }
                    ]
                },
                {
                    "include": "#unbuffered_code"
                },
                {
                    "include": "#printed_expression"
                },
                {
                    "match": "\\[",
                    "name": "invalid.illegal.tag.pug"
                },
                {
                    "include": "#inline_pug_text"
                }
            ]
        },
        "interpolated_error": {
            "match": "(?<!\\\\)[#!]\\{(?=[^}]*$)",
            "name": "invalid.illegal.tag.pug"
        },
        "interpolated_value": {
            "begin": "(?<!\\\\)[#!]\\{(?=.*?\\})",
            "end": "\\}",
            "name": "string.interpolated.pug",
            "patterns": [
                {
                    "match": "{",
                    "name": "invalid.illegal.tag.pug"
                },
                {
                    "include": "#angular-expressions"
                }
            ]
        },
        "js_braces": {
            "begin": "\\{",
            "end": "\\}",
            "patterns": [
                {
                    "include": "#js_braces"
                },
                {
                    "include": "source.js"
                }
            ]
        },
        "js_brackets": {
            "begin": "\\[",
            "end": "\\]",
            "patterns": [
                {
                    "include": "#js_brackets"
                },
                {
                    "include": "source.js"
                }
            ]
        },
        "js_parens": {
            "begin": "\\(",
            "end": "\\)",
            "patterns": [
                {
                    "include": "#js_parens"
                },
                {
                    "include": "source.js"
                }
            ]
        },
        "mixin_call": {
            "begin": "((?:mixin\\s+)|\\+)([\\w-]+)",
            "beginCaptures": {
                "1": {
                    "name": "storage.type.function.pug"
                },
                "2": {
                    "name": "meta.tag.other entity.name.function.pug"
                }
            },
            "end": "(?!\\()|$",
            "patterns": [
                {
                    "begin": "(?<!\\))\\(",
                    "end": "\\)",
                    "name": "args.mixin.pug",
                    "patterns": [
                        {
                            "include": "#js_parens"
                        },
                        {
                            "include": "#string"
                        },
                        {
                            "match": "([^\\s(),=/]+)\\s*=\\s*",
                            "captures": {
                                "1": {
                                    "name": "meta.tag.other entity.other.attribute-name.tag.pug"
                                }
                            }
                        },
                        {
                            "include": "source.js"
                        }
                    ]
                },
                {
                    "include": "#tag_attributes"
                }
            ]
        },
        "mixin_definition": {
            "match": "(mixin\\s+)([\\w-]+)(?:(\\()\\s*((?:[a-zA-Z_]\\w*\\s*)(?:,\\s*[a-zA-Z_]\\w*\\s*)*)(\\)))?$",
            "captures": {
                "1": {
                    "name": "storage.type.function.pug"
                },
                "2": {
                    "name": "meta.tag.other entity.name.function.pug"
                },
                "3": {
                    "name": "punctuation.definition.parameters.begin.js"
                },
                "4": {
                    "name": "variable.parameter.function.js"
                },
                "5": {
                    "name": "punctuation.definition.parameters.begin.js"
                }
            }
        },
        "printed_expression": {
            "begin": "(!?\\=)\\s*",
            "captures": {
                "1": {
                    "name": "constant"
                }
            },
            "end": "(?=\\])|$",
            "name": "source.js",
            "patterns": [
                {
                    "include": "#js_brackets"
                },
                {
                    "include": "source.js"
                }
            ]
        },
        "regex": {
            "match": "/([a-zA-Z0-9\\[\\]\\(\\)\\*\\+\\-\\^\\~\\:\\/\\;\\.\\,\\{\\}\\@\\\"\\\\#]+)/([nsxAgimuY]*+?)",
            "name": "string.regexp",
            "patterns": []
        },
        "string": {
            "begin": "(['\"])",
            "end": "(?<!\\\\)\\1",
            "name": "string.quoted.pug",
            "patterns": [
                {
                    "match": "\\\\((x[0-9a-fA-F]{2})|(u[0-9]{4})|.)",
                    "name": "constant.character.quoted.pug"
                },
                {
                    "include": "#interpolated_value"
                },
                {
                    "include": "#interpolated_error"
                }
            ]
        },
        "tag_attribute_name_paren": {
            "begin": "\\(\\s*",
            "end": "\\)",
            "name": "support.type.object.module.html",
            "patterns": [
                {
                    "include": "#tag_attribute_name_paren"
                },
                {
                    "include": "#tag_attribute_name"
                }
            ]
        },
        "tag_attribute_name": {
            "match": "([^\\s(),=/!]+)\\s*",
            "captures": {
                "1": {
                    "name": "entity.other.attribute-name.tag.pug"
                }
            }
        },
        "tag_attributes": {
            "begin": "(\\(\\s*)",
            "captures": {
                "1": {
                    "name": "constant.name.attribute.tag.pug"
                }
            },
            "end": "(\\))",
            "name": "meta.tag.other",
            "patterns": [
                {
                    "include": "#angular-directives"
                },
                {
                    "include": "#tag-minified-boolean-attributes"
                },
                {
                    "include": "#tag-events-attribute"
                },
                {
                    "include": "#tag_attribute_name_paren"
                },
                {
                    "include": "#tag_attribute_name"
                },
                {
                    "match": "!(?!=)",
                    "name": "invalid.illegal.tag.pug"
                },
                {
                    "begin": "=\\s*",
                    "end": "$|(?=,|(?:\\s+[^!%&*-+~|<>:?/])|\\))",
                    "name": "attribute_value",
                    "patterns": [
                        {
                            "include": "#string"
                        },
                        {
                            "include": "#js_parens"
                        },
                        {
                            "include": "#js_brackets"
                        },
                        {
                            "include": "#js_braces"
                        },
                        {
                            "include": "source.js"
                        }
                    ]
                },
                {
                    "begin": "(?<=[%&*-+~|<>:?/])\\s+",
                    "end": "$|(?=,|(?:\\s+[^!%&*-+~|<>:?/])|\\))",
                    "name": "attribute_value2",
                    "patterns": [
                        {
                            "include": "#string"
                        },
                        {
                            "include": "#js_parens"
                        },
                        {
                            "include": "#js_brackets"
                        },
                        {
                            "include": "#js_braces"
                        },
                        {
                            "include": "source.js"
                        }
                    ]
                }
            ]
        },
        "tag_classes": {
            "match": "\\.([^\\w-])?[\\w-]*",
            "captures": {
                "1": {
                    "name": "invalid.illegal.tag.pug"
                }
            },
            "name": "support.type.object.module.html"
        },
        "tag-events-attribute": {
            "captures": {
                "1": {
                    "name": "support.type.object.module.html"
                },
                "2": {
                    "name": "constant.character.entity.html"
                }
            },
            "begin": "(DOMMenuItemActive|DOMMenuItemInactive|DOMMouseScroll|onabort|onafterprint|onafterupdate|onbeforecopy|onbeforecut|onbeforeeditfocus|onbeforepaste|onbeforeprint|onbeforeunload|onbeforeupdate|onblur|onbounce|onbroadcast|oncanplay|oncanplaythrough|oncellchange|onchange|onclick|onclose|oncommand|oncommandupdate|oncontextmenu|oncopy|oncut|ondataavailable|ondatasetchanged|ondatasetcomplete|ondblclick|ondrag|ondragdrop|ondragend|ondragenter|ondragexit|ondraggesture|ondragleave|ondragover|ondragstart|ondrop|ondurationchange|onemptied|onended|onerror|onerrorupdate|onfilterchange|onfinish|onfocus|onformchange|onforminput|ongotpointercapture|onhelp|oninput|oninvalid|onkeydown|onkeypress|onkeyup|onload|onloadeddata|onloadedmetadata|onloadstart|onlosecapture|onlostpointercapture|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|onmousewheel|onoverflow|onoverflowchanged|onpaste|onpause|onplay|onplaying|onpointercancel|onpointerdown|onpointerenter|onpointerleave|onpointermove|onpointerout|onpointerover|onpointerup|onpopuphidden|onpopuphiding|onpopupshowing|onpopupshown|onprogress|onpropertychange|onratechange|onreadystatechange|onreset|onresize|onrowenter|onrowexit|onrowinserted|onrowsdelete|onscroll|onseeked|onseeking|onselect|onselectstart|onshow|onstalled|onstart|onstop|onsubmit|onsuspend|ontimeupdate|onunderflow|onunload|onvolumechange|onwaiting|style)+(=)",
            "end": "(?<='|\")|(?=[\\s<>`])",
            "name": "meta.attribute-with-value.events.html",
            "patterns": [
                {
                    "beginCaptures": {
                        "0": {
                            "name": "punctuation.definition.string.begin.html"
                        }
                    },
                    "patterns": [
                        {
                            "include": "#angular-expression"
                        }
                    ],
                    "begin": "\"",
                    "endCaptures": {
                        "0": {
                            "name": "punctuation.definition.string.end.html"
                        }
                    },
                    "end": "\"",
                    "name": "source.events.html"
                },
                {
                    "beginCaptures": {
                        "0": {
                            "name": "punctuation.definition.string.begin.html"
                        }
                    },
                    "patterns": [
                        {
                            "include": "#angular-expression"
                        }
                    ],
                    "begin": "'",
                    "endCaptures": {
                        "0": {
                            "name": "punctuation.definition.string.end.html"
                        }
                    },
                    "end": "'",
                    "name": "source.events.html"
                }
            ]
        },
        "tag_id": {
            "match": "#[\\w-]*",
            "name": "keyword.operator.unit"
        },
        "tag-minified-boolean-attributes": {
            "captures": {
                "1": {
                    "name": "string.regexp"
                },
                "2": {
                    "name": "support.type.object.html-attribute"
                }
            },
            "match": "(?<!<|\\/)(\\*)+|\\s(\\b[\\w\\-\\:]+)\\b\\s?(?!=)",
            "name": "punctuation.definition.tag.end.html"
        },
        "tag_mixin_attributes": {
            "begin": "(&attributes\\()",
            "captures": {
                "1": {
                    "name": "entity.name.function.pug"
                }
            },
            "end": "(\\))",
            "name": "meta.tag.other",
            "patterns": [
                {
                    "match": "attributes(?=\\))",
                    "name": "storage.type.keyword.pug"
                },
                {
                    "include": "source.js"
                }
            ]
        },
        "tag_name": {
            "begin": "([#!]\\{(?=.*?\\}))|(\\w(([\\w:-]+[\\w-])|([\\w-]*)))",
            "end": "(\\G(?<!\\5[^\\w-]))|\\}|$",
            "name": "meta.tag.other entity.name.tag.pug",
            "patterns": [
                {
                    "begin": "\\G(?<=\\{)",
                    "end": "(?=\\})",
                    "name": "meta.tag.other entity.name.tag.pug",
                    "patterns": [
                        {
                            "match": "{",
                            "name": "invalid.illegal.tag.pug"
                        },
                        {
                            "include": "source.js"
                        }
                    ]
                }
            ]
        },
        "tag_text": {
            "begin": "(?=.)",
            "end": "$",
            "patterns": [
                {
                    "include": "#inline_pug"
                },
                {
                    "include": "#embedded_html"
                },
                {
                    "include": "#html_entity"
                },
                {
                    "include": "#interpolated_value"
                },
                {
                    "include": "#interpolated_error"
                }
            ]
        },
        "unbuffered_code": {
            "begin": "(-|(([a-zA-Z0-9_]+)\\s+=))",
            "beginCaptures": {
                "3": {
                    "name": "variable.parameter.javascript.embedded.pug"
                }
            },
            "end": "(?=\\])|(({\\s*)?$)",
            "name": "source.js",
            "comment": "name = function() {}",
            "patterns": [
                {
                    "include": "#js_brackets"
                },
                {
                    "include": "#babel_parens"
                },
                {
                    "include": "source.js"
                }
            ]
        },
        "angular-directives": {
            "captures": {
                "3": {
                    "name": "string.regexp"
                },
                "4": {
                    "name": "constant.character.entity.html"
                },
                "5": {
                    "name": "constant.numeric.angular-directive"
                },
                "6": {
                    "name": "constant.character.entity.html"
                },
                "7": {
                    "name": "keyword.operator.unit"
                },
                "8": {
                    "name": "string.regexp"
                },
                "9": {
                    "name": "constant.character.entity.html"
                }
            },
            "begin": "((?:\\b(v-)|(\\*|\\#|[\\[\\(]{1,2}))(@)?([a-zA-Z0-9\\-_\\$]+)(?:[\\:\\.]([a-zA-Z0-9\\-_\\%]+))?(?:\\.([a-zA-Z0-9\\-_\\%]+))*)([\\]\\)]{1,2})?(=)?",
            "end": "(?<='|\")|(?=[\\s<>`])",
            "name": "meta.directive.angular",
            "patterns": [
                {
                    "beginCaptures": {
                        "0": {
                            "name": "string.quoted.double.html"
                        }
                    },
                    "patterns": [
                        {
                            "match": "\\?\\.|\\!\\.|\\.|\\,|\\;|\\?|\\!|\\:",
                            "name": "keyword.operator.punctuation"
                        },
                        {
                            "match": "\\blet\\b\\s",
                            "name": "keyword.operator.expression.let.js"
                        },
                        {
                            "include": "#angular-expression"
                        }
                    ],
                    "begin": "\"",
                    "endCaptures": {
                        "0": {
                            "name": "string.quoted.double.html"
                        }
                    },
                    "end": "\"",
                    "name": "source.directive.angular"
                },
                {
                    "beginCaptures": {
                        "0": {
                            "name": "string.quoted.single.html"
                        }
                    },
                    "patterns": [
                        {
                            "match": "\\?\\.|\\!\\.|\\.|\\,|\\;|\\?|\\!|\\:",
                            "name": "keyword.operator.punctuation"
                        },
                        {
                            "match": "\\blet\\b\\s",
                            "name": "keyword.operator.expression.let.js"
                        },
                        {
                            "include": "#angular-expression"
                        }
                    ],
                    "begin": "'",
                    "endCaptures": {
                        "0": {
                            "name": "string.quoted.single.html"
                        }
                    },
                    "end": "'",
                    "name": "source.directive.angular"
                }
            ]
        },
        "angular-interpolations": {
            "patterns": [
                {
                    "beginCaptures": {
                        "0": {
                            "name": "string.regexp.angular-interpolation.begin"
                        }
                    },
                    "patterns": [
                        {
                            "match": "\\?\\.|\\!\\.|\\.|\\!|\\?|\\:|\\;|\\,",
                            "name": "keyword.operator.navigation"
                        },
                        {
                            "include": "#angular-expression"
                        }
                    ],
                    "begin": "\\{\\{\\{?",
                    "endCaptures": {
                        "0": {
                            "name": "string.regexp.angular-interpolation.end"
                        }
                    },
                    "end": "\\}\\}\\}?",
                    "name": "expression.embedded.angular"
                }
            ]
        },
        "angular-expression": {
            "name": "meta.expression.ts",
            "patterns": [
                {
                    "include": "#ts-string"
                },
                {
                    "include": "#literal"
                },
                {
                    "include": "#ternary-expression"
                },
                {
                    "include": "#object-literal"
                },
                {
                    "include": "#expression-operators"
                },
                {
                    "include": "#function-call"
                },
                {
                    "include": "#identifiers"
                },
                {
                    "include": "#paren-expression"
                },
                {
                    "include": "#punctuation-comma"
                },
                {
                    "include": "#punctuation-accessor"
                }
            ]
        },
        "array-literal": {
            "name": "meta.array.literal.ts",
            "begin": "\\[",
            "beginCaptures": {
                "0": {
                    "name": "meta.brace.square.ts"
                }
            },
            "end": "\\]",
            "endCaptures": {
                "0": {
                    "name": "meta.brace.square.ts"
                }
            },
            "patterns": [
                {
                    "include": "#angular-expression"
                },
                {
                    "include": "#punctuation-comma"
                }
            ]
        },
        "binding-element": {
            "patterns": [
                {
                    "include": "#variable-initializer"
                }
            ]
        },
        "boolean-literal": {
            "patterns": [
                {
                    "name": "constant.language.boolean.true.ts",
                    "match": "(?<!\\.|\\$)\\btrue\\b(?!\\$)"
                },
                {
                    "name": "constant.language.boolean.false.ts",
                    "match": "(?<!\\.|\\$)\\bfalse\\b(?!\\$)"
                }
            ]
        },
        "expression-operators": {
            "patterns": [
                {
                    "match": "((?<!\\|)(\\|)(?!\\|))\\s?([a-zA-Z0-9\\-\\_]*)",
                    "captures": {
                        "2": {
                            "name": "keyword.operator.logical.ts"
                        },
                        "3": {
                            "name": "entity.name.function.pipe.ng"
                        }
                    }
                },
                {
                    "name": "keyword.control.flow.ts",
                    "match": "(?<!\\.|\\$)\\b(await)\\b(?!\\$)"
                },
                {
                    "name": "keyword.operator.expression.delete.ts",
                    "match": "(?<!\\.|\\$)\\bdelete\\b(?!\\$)"
                },
                {
                    "name": "keyword.operator.expression.in.ts",
                    "match": "(?<!\\.|\\$)\\bin\\b(?!\\$)"
                },
                {
                    "name": "keyword.operator.expression.of.ts",
                    "match": "(?<!\\.|\\$)\\bof\\b(?!\\$)"
                },
                {
                    "name": "keyword.control.else.ts",
                    "match": "(?<!\\.|\\$)\\belse\\b(?!\\$)"
                },
                {
                    "name": "keyword.control.then.ts",
                    "match": "(?<!\\.|\\$)\\bthen\\b(?!\\$)"
                },
                {
                    "name": "keyword.operator.expression.instanceof.ts",
                    "match": "(?<!\\.|\\$)\\binstanceof\\b(?!\\$)"
                },
                {
                    "name": "keyword.operator.new.ts",
                    "match": "(?<!\\.|\\$)\\bnew\\b(?!\\$)"
                },
                {
                    "include": "#typeof-operator"
                },
                {
                    "name": "keyword.operator.expression.void.ts",
                    "match": "(?<!\\.|\\$)\\bvoid\\b(?!\\$)"
                },
                {
                    "begin": "(?<!\\.|\\$)\\bas\\b(?!\\$)",
                    "beginCaptures": {
                        "0": {
                            "name": "keyword.control.as.ts"
                        }
                    },
                    "end": "(?=$|\"|[;,:})\\]])",
                    "patterns": [
                        {
                            "include": "#type"
                        }
                    ]
                },
                {
                    "name": "keyword.operator.assignment.compound.ts",
                    "match": "\\*=|(?<!\\()/=|%=|\\+=|\\-="
                },
                {
                    "name": "keyword.operator.assignment.compound.bitwise.ts",
                    "match": "\\&=|\\^=|<<=|>>=|>>>=|\\|="
                },
                {
                    "name": "keyword.operator.bitwise.shift.ts",
                    "match": "<<|>>>|>>"
                },
                {
                    "name": "keyword.operator.comparison.ts",
                    "match": "===|!==|==|!="
                },
                {
                    "name": "keyword.operator.relational.ts",
                    "match": "<=|>=|<>|<|>"
                },
                {
                    "name": "keyword.operator.logical.ts",
                    "match": "\\!|&&|\\|\\|"
                },
                {
                    "name": "keyword.operator.bitwise.ts",
                    "match": "\\&|~|\\^|\\|"
                },
                {
                    "name": "keyword.operator.assignment.ts",
                    "match": "\\="
                },
                {
                    "name": "keyword.operator.decrement.ts",
                    "match": "--"
                },
                {
                    "name": "keyword.operator.increment.ts",
                    "match": "\\+\\+"
                },
                {
                    "name": "keyword.operator.arithmetic.ts",
                    "match": "%|\\*|/|-|\\+"
                },
                {
                    "match": "(?<=[_$[:alnum:]])\\s*(/)(?![/*])",
                    "captures": {
                        "1": {
                            "name": "keyword.operator.arithmetic.ts"
                        }
                    }
                }
            ]
        },
        "function-call": {
            "begin": "(?=(\\.\\s*)?([_$[:alpha:]][_$[:alnum:]]*)\\s*(<([^<>]|\\<[^<>]+\\>)+>\\s*)?\\()",
            "end": "(?<=\\))(?!(\\.\\s*)?([_$[:alpha:]][_$[:alnum:]]*)\\s*(<([^<>]|\\<[^<>]+\\>)+>\\s*)?\\()",
            "patterns": [
                {
                    "name": "punctuation.accessor.ts",
                    "match": "\\."
                },
                {
                    "name": "entity.name.function.ts",
                    "match": "([_$[:alpha:]][_$[:alnum:]]*)"
                },
                {
                    "name": "meta.type.parameters.ts",
                    "begin": "\\<",
                    "beginCaptures": {
                        "0": {
                            "name": "punctuation.definition.typeparameters.begin.ts"
                        }
                    },
                    "end": "\\>",
                    "endCaptures": {
                        "0": {
                            "name": "punctuation.definition.typeparameters.end.ts"
                        }
                    },
                    "patterns": [
                        {
                            "include": "#type"
                        },
                        {
                            "include": "#punctuation-comma"
                        }
                    ]
                },
                {
                    "include": "#paren-expression"
                }
            ]
        },
        "function-parameters": {
            "name": "meta.parameters.ts",
            "begin": "\\(",
            "beginCaptures": {
                "0": {
                    "name": "punctuation.definition.parameters.begin.ts"
                }
            },
            "end": "\\)",
            "endCaptures": {
                "0": {
                    "name": "punctuation.definition.parameters.end.ts"
                }
            },
            "patterns": [
                {
                    "include": "#decorator"
                },
                {
                    "include": "#parameter-name"
                },
                {
                    "include": "#variable-initializer"
                },
                {
                    "name": "punctuation.separator.parameter.ts",
                    "match": ","
                }
            ]
        },
        "identifiers": {
            "patterns": [
                {
                    "name": "support.class.ts",
                    "match": "([_$[:alpha:]][_$[:alnum:]]*)(?=\\s*\\.\\s*prototype\\b(?!\\$))"
                },
                {
                    "match": "(?x)(\\?\\.|\\!\\.|\\.)\\s*(?:\n  ([[:upper:]][_$[:digit:][:upper:]]*) |\n  ([_$[:alpha:]][_$[:alnum:]]*)\n)(?=\\s*\\.\\s*[_$[:alpha:]][_$[:alnum:]]*)",
                    "captures": {
                        "1": {
                            "name": "punctuation.accessor.ts"
                        },
                        "2": {
                            "name": "constant.other.object.property.ts"
                        },
                        "3": {
                            "name": "variable.other.object.property.ts"
                        }
                    }
                },
                {
                    "match": "(?x)(?:(\\?\\.|\\!\\.|\\.)\\s*)?([_$[:alpha:]][_$[:alnum:]]*)(?=\\s*=\\s*( (async\\s+)|(function\\s*[(<])|(function\\s+)| ([_$[:alpha:]][_$[:alnum:]]*\\s*=>)| ((<([^<>]|\\<[^<>]+\\>)+>\\s*)?\\(([^()]|\\([^()]*\\))*\\)(\\s*:\\s*(.)*)?\\s*=>)))",
                    "captures": {
                        "1": {
                            "name": "punctuation.accessor.ts"
                        },
                        "2": {
                            "name": "entity.name.function.ts"
                        }
                    }
                },
                {
                    "match": "(\\?\\.|\\!\\.|\\.)\\s*([[:upper:]][_$[:digit:][:upper:]]*)(?![_$[:alnum:]])",
                    "captures": {
                        "1": {
                            "name": "punctuation.accessor.ts"
                        },
                        "2": {
                            "name": "constant.other.property.ts"
                        }
                    }
                },
                {
                    "match": "(\\?\\.|\\!\\.|\\.)\\s*([_$[:alpha:]][_$[:alnum:]]*)",
                    "captures": {
                        "1": {
                            "name": "punctuation.accessor.ts"
                        },
                        "2": {
                            "name": "variable.other.property.ts"
                        }
                    }
                },
                {
                    "match": "(?x)(?:\n  ([[:upper:]][_$[:digit:][:upper:]]*) |\n  ([_$[:alpha:]][_$[:alnum:]]*)\n)(?=\\s*\\.\\s*[_$[:alpha:]][_$[:alnum:]]*)",
                    "captures": {
                        "1": {
                            "name": "constant.other.object.ts"
                        },
                        "2": {
                            "name": "variable.other.object.ts"
                        }
                    }
                },
                {
                    "name": "constant.character.other",
                    "match": "([[:upper:]][_$[:digit:][:upper:]]*)(?![_$[:alnum:]])"
                },
                {
                    "name": "variable.other.readwrite.ts",
                    "match": "[_$[:alpha:]][_$[:alnum:]]*"
                }
            ]
        },
        "literal": {
            "name": "literal.ts",
            "patterns": [
                {
                    "include": "#numeric-literal"
                },
                {
                    "include": "#boolean-literal"
                },
                {
                    "include": "#null-literal"
                },
                {
                    "include": "#undefined-literal"
                },
                {
                    "include": "#numericConstant-literal"
                },
                {
                    "include": "#array-literal"
                },
                {
                    "include": "#this-literal"
                }
            ]
        },
        "null-literal": {
            "name": "constant.language.null.ts",
            "match": "(?<!\\.|\\$)\\bnull\\b(?!\\$)"
        },
        "numeric-literal": {
            "patterns": [
                {
                    "name": "constant.numeric.hex.ts",
                    "match": "\\b(?<!\\$)0(x|X)[0-9a-fA-F]+\\b(?!\\$)"
                },
                {
                    "name": "constant.numeric.binary.ts",
                    "match": "\\b(?<!\\$)0(b|B)[01]+\\b(?!\\$)"
                },
                {
                    "name": "constant.numeric.octal.ts",
                    "match": "\\b(?<!\\$)0(o|O)?[0-7]+\\b(?!\\$)"
                },
                {
                    "match": "(?x)\n(?<!\\$)(?:\n  (?:\\b[0-9]+(\\.)[0-9]+[eE][+-]?[0-9]+\\b)| # 1.1E+3\n  (?:\\b[0-9]+(\\.)[eE][+-]?[0-9]+\\b)|       # 1.E+3\n  (?:\\B(\\.)[0-9]+[eE][+-]?[0-9]+\\b)|       # .1E+3\n  (?:\\b[0-9]+[eE][+-]?[0-9]+\\b)|            # 1E+3\n  (?:\\b[0-9]+(\\.)[0-9]+\\b)|                # 1.1\n  (?:\\b[0-9]+(\\.)\\B)|                      # 1.\n  (?:\\B(\\.)[0-9]+\\b)|                      # .1\n  (?:\\b[0-9]+\\b(?!\\.))                     # 1\n)(?!\\$)",
                    "captures": {
                        "0": {
                            "name": "constant.numeric.decimal.ts"
                        },
                        "1": {
                            "name": "meta.delimiter.decimal.period.ts"
                        },
                        "2": {
                            "name": "meta.delimiter.decimal.period.ts"
                        },
                        "3": {
                            "name": "meta.delimiter.decimal.period.ts"
                        },
                        "4": {
                            "name": "meta.delimiter.decimal.period.ts"
                        },
                        "5": {
                            "name": "meta.delimiter.decimal.period.ts"
                        },
                        "6": {
                            "name": "meta.delimiter.decimal.period.ts"
                        }
                    }
                }
            ]
        },
        "numericConstant-literal": {
            "patterns": [
                {
                    "name": "constant.language.nan.ts",
                    "match": "(?<!\\.|\\$)\\bNaN\\b(?!\\$)"
                },
                {
                    "name": "constant.language.infinity.ts",
                    "match": "(?<!\\.|\\$)\\bInfinity\\b(?!\\$)"
                }
            ]
        },
        "object-literal": {
            "name": "meta.objectliteral.ts",
            "begin": "\\{",
            "beginCaptures": {
                "0": {
                    "name": "punctuation.definition.block.ts"
                }
            },
            "end": "\\}",
            "endCaptures": {
                "0": {
                    "name": "punctuation.definition.block.ts"
                }
            },
            "patterns": [
                {
                    "include": "#object-member"
                }
            ]
        },
        "object-member": {
            "patterns": [
                {
                    "name": "meta.object.member.ts",
                    "begin": "(?=(?:(?:\\'[^']*\\')|(?:\\\"[^\"]*\\\")|(?:\\[([^\\[\\]]|\\[[^\\[\\]]+\\])+\\]))\\s*:)",
                    "end": "(?=,|\\})",
                    "patterns": [
                        {
                            "name": "meta.object-literal.key.ts",
                            "begin": "(?=(?:(?:\\'[^']*\\')|(?:\\\"[^\"]*\\\")|(?:\\[([^\\[\\]]|\\[[^\\[\\]]+\\])+\\]))\\s*:)",
                            "end": ":",
                            "endCaptures": {
                                "0": {
                                    "name": "punctuation.separator.key-value.ts"
                                }
                            },
                            "patterns": [
                                {
                                    "include": "#ts-string"
                                },
                                {
                                    "include": "#array-literal"
                                }
                            ]
                        },
                        {
                            "include": "#angular-expression"
                        }
                    ]
                },
                {
                    "name": "meta.object.member.ts",
                    "begin": "(?x)(?:([_$[:alpha:]][_$[:alnum:]]*)\\s*(:)(?=\\s*( (async\\s+)|(function\\s*[(<])|(function\\s+)| ([_$[:alpha:]][_$[:alnum:]]*\\s*=>)| ((<([^<>]|\\<[^<>]+\\>)+>\\s*)?\\(([^()]|\\([^()]*\\))*\\)(\\s*:\\s*(.)*)?\\s*=>))))",
                    "beginCaptures": {
                        "0": {
                            "name": "meta.object-literal.key.ts"
                        },
                        "1": {
                            "name": "entity.name.function.ts"
                        },
                        "2": {
                            "name": "punctuation.separator.key-value.ts"
                        }
                    },
                    "end": "(?=,|\\})",
                    "patterns": [
                        {
                            "include": "#angular-expression"
                        }
                    ]
                },
                {
                    "name": "meta.object.member.ts",
                    "begin": "(?:[_$[:alpha:]][_$[:alnum:]]*)\\s*(:)",
                    "beginCaptures": {
                        "0": {
                            "name": "meta.object-literal.key.ts"
                        },
                        "1": {
                            "name": "punctuation.separator.key-value.ts"
                        }
                    },
                    "end": "(?=,|\\})",
                    "patterns": [
                        {
                            "include": "#angular-expression"
                        }
                    ]
                },
                {
                    "name": "meta.object.member.ts",
                    "match": "([_$[:alpha:]][_$[:alnum:]]*)\\s*(?=,|\\}|$)",
                    "captures": {
                        "1": {
                            "name": "variable.other.readwrite.ts"
                        }
                    }
                },
                {
                    "include": "#punctuation-comma"
                }
            ]
        },
        "parameter-name": {
            "patterns": [
                {
                    "match": "(?x)(?:\\s*\\b(readonly)\\s+)?(?:\\s*\\b(public|private|protected)\\s+)?(\\.\\.\\.)?\\s*(?<!=|:)([_$[:alpha:]][_$[:alnum:]]*)\\s*(\\??)(?=\\s* (=\\s*( (async\\s+) | (function\\s*[(<]) | (function\\s+) | ([_$[:alpha:]][_$[:alnum:]]*\\s*=>) | ((<([^<>]|\\<[^<>]+\\>)+>\\s*)?\\(([^()]|\\([^()]*\\))*\\)(\\s*:\\s*(.)*)?\\s*=>)) ) | (:\\s*( (<) | ([(]\\s*( ([)]) | (\\.\\.\\.) | ([_$[:alnum:]]+\\s*( ([:,?=])| ([)]\\s*=>) )) ))) ))",
                    "captures": {
                        "1": {
                            "name": "storage.modifier.ts"
                        },
                        "2": {
                            "name": "storage.modifier.ts"
                        },
                        "3": {
                            "name": "keyword.operator.rest.ts"
                        },
                        "4": {
                            "name": "entity.name.function.ts"
                        },
                        "5": {
                            "name": "keyword.operator.ts"
                        }
                    }
                },
                {
                    "match": "(?:\\s*\\b(readonly)\\s+)?(?:\\s*\\b(public|private|protected)\\s+)?(\\.\\.\\.)?\\s*(?<!=|:)([_$[:alpha:]][_$[:alnum:]]*)\\s*(\\??)",
                    "captures": {
                        "1": {
                            "name": "storage.modifier.ts"
                        },
                        "2": {
                            "name": "storage.modifier.ts"
                        },
                        "3": {
                            "name": "keyword.operator.rest.ts"
                        },
                        "4": {
                            "name": "variable.parameter.ts"
                        },
                        "5": {
                            "name": "keyword.operator.ts"
                        }
                    }
                }
            ]
        },
        "paren-expression": {
            "begin": "\\(",
            "beginCaptures": {
                "0": {
                    "name": "meta.brace.round.ts"
                }
            },
            "end": "\\)",
            "endCaptures": {
                "0": {
                    "name": "meta.brace.round.ts"
                }
            },
            "patterns": [
                {
                    "include": "#angular-expression"
                },
                {
                    "include": "#punctuation-comma"
                }
            ]
        },
        "punctuation-accessor": {
            "name": "punctuation.accessor.ts",
            "match": "(\\?\\.)|(\\!\\.)|(\\.)"
        },
        "punctuation-comma": {
            "name": "punctuation.separator.comma.ts",
            "match": ","
        },
        "punctuation-semicolon": {
            "name": "punctuation.terminator.statement.ts",
            "match": ";"
        },
        "qstring-double": {
            "name": "string.quoted.double.ts",
            "begin": "\"",
            "beginCaptures": {
                "0": {
                    "name": "punctuation.definition.string.begin.ts"
                }
            },
            "end": "(\")|((?:[^\\\\\\n])$)",
            "endCaptures": {
                "1": {
                    "name": "punctuation.definition.string.end.ts"
                },
                "2": {
                    "name": "invalid.illegal.newline.ts"
                }
            },
            "patterns": [
                {
                    "include": "#string-character-escape"
                }
            ]
        },
        "qstring-single": {
            "name": "string.quoted.single.ts",
            "begin": "'",
            "beginCaptures": {
                "0": {
                    "name": "punctuation.definition.string.begin.ts"
                }
            },
            "end": "(\\')|((?:[^\\\\\\n])$)",
            "endCaptures": {
                "1": {
                    "name": "punctuation.definition.string.end.ts"
                },
                "2": {
                    "name": "invalid.illegal.newline.ts"
                }
            },
            "patterns": [
                {
                    "include": "#string-character-escape"
                }
            ]
        },
        "string-character-escape": {
            "name": "constant.character.escape.ts",
            "match": "\\\\(x\\h{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.|$)"
        },
        "ternary-expression": {
            "begin": "(?=\\?)(?!\\?\\.)",
            "end": "(?=$|\"|[;,})\\]])",
            "patterns": [
                {
                    "include": "#ternary-operator"
                },
                {
                    "include": "#angular-expression"
                }
            ]
        },
        "ternary-operator": {
            "begin": "(\\?)(?!\\.)",
            "beginCaptures": {
                "0": {
                    "name": "keyword.operator.ternary.ts"
                }
            },
            "end": "(:)",
            "endCaptures": {
                "0": {
                    "name": "keyword.operator.ternary.ts"
                }
            },
            "patterns": [
                {
                    "include": "#angular-expression"
                }
            ]
        },
        "this-literal": {
            "name": "variable.language.this.ts",
            "match": "(?<!\\.|\\$)\\bthis\\b(?!\\$)"
        },
        "ts-string": {
            "patterns": [
                {
                    "include": "#qstring-single"
                },
                {
                    "include": "#qstring-double"
                }
            ]
        },
        "type-annotation": {
            "name": "meta.type.annotation.ts",
            "begin": ":",
            "beginCaptures": {
                "0": {
                    "name": "keyword.operator.type.annotation.ts"
                }
            },
            "end": "(?=$|[,);\\}\\]]|//|\")|(?==[^>])|(?<=[\\}>\\]\\)]|[_$[:alpha:]])\\s*(?=\\{)",
            "patterns": [
                {
                    "include": "#type"
                }
            ]
        },
        "type-builtin-literals": {
            "name": "support.type.builtin.ts",
            "match": "(?<!\\.|\\$)\\b(this|true|false|undefined|null)\\b(?!\\$)"
        },
        "type-declaration": {
            "name": "meta.type.declaration.ts",
            "begin": "(?<!\\.|\\$)(?:(\\bexport)\\s+)?\\b(type)\\b\\s+([_$[:alpha:]][_$[:alnum:]]*)\\s*",
            "beginCaptures": {
                "1": {
                    "name": "keyword.control.export.ts"
                },
                "2": {
                    "name": "storage.type.type.ts"
                },
                "3": {
                    "name": "entity.name.type.ts"
                }
            },
            "end": "(?=[};\"]|\\bvar\\b|\\blet\\b|\\bconst\\b|\\btype\\b|\\bfunction\\b|\\bclass\\b|\\binterface\\b|\\bnamespace\\b|\\bmodule\\b|\\bimport\\b|\\benum\\b|\\bdeclare\\b|\\bexport\\b|\\babstract\\b|\\basync\\b)",
            "patterns": [
                {
                    "include": "#type"
                },
                {
                    "match": "(=)\\s*",
                    "captures": {
                        "1": {
                            "name": "keyword.operator.assignment.ts"
                        }
                    }
                }
            ]
        },
        "type-fn-type-parameters": {
            "patterns": [
                {
                    "name": "meta.type.constructor.ts",
                    "match": "(?<!\\.|\\$)\\b(new)\\b(?=\\s*\\<)",
                    "captures": {
                        "1": {
                            "name": "keyword.control.new.ts"
                        }
                    }
                },
                {
                    "name": "meta.type.constructor.ts",
                    "begin": "(?<!\\.|\\$)\\b(new)\\b\\s*(?=\\()",
                    "beginCaptures": {
                        "1": {
                            "name": "keyword.control.new.ts"
                        }
                    },
                    "end": "(?<=\\))",
                    "patterns": [
                        {
                            "include": "#function-parameters"
                        }
                    ]
                },
                {
                    "name": "meta.type.function.ts",
                    "begin": "(?<=\\>)\\s*(?=\\()",
                    "end": "(?<=\\))",
                    "patterns": [
                        {
                            "include": "#function-parameters"
                        }
                    ]
                },
                {
                    "name": "meta.type.function.ts",
                    "begin": "(?x)( (?= [(]\\s*( ([)]) |  (\\.\\.\\.) | ([_$[:alnum:]]+\\s*( ([:,?=])| ([)]\\s*=>) )) ) ) )",
                    "end": "(?<=\\))",
                    "patterns": [
                        {
                            "include": "#function-parameters"
                        }
                    ]
                }
            ]
        },
        "type-name": {
            "patterns": [
                {
                    "match": "([_$[:alpha:]][_$[:alnum:]]*)\\s*(\\?\\.|\\!\\.|\\.)",
                    "captures": {
                        "1": {
                            "name": "entity.name.type.module.ts"
                        },
                        "2": {
                            "name": "punctuation.accessor.ts"
                        }
                    }
                },
                {
                    "name": "entity.name.type.ts",
                    "match": "[_$[:alpha:]][_$[:alnum:]]*"
                }
            ]
        },
        "type-object-members": {
            "patterns": [
                {
                    "include": "#type-annotation"
                },
                {
                    "include": "#punctuation-comma"
                },
                {
                    "include": "#punctuation-semicolon"
                }
            ]
        },
        "type-object": {
            "name": "meta.object.type.ts",
            "begin": "\\{",
            "beginCaptures": {
                "0": {
                    "name": "punctuation.definition.block.ts"
                }
            },
            "end": "\\}",
            "endCaptures": {
                "0": {
                    "name": "punctuation.definition.block.ts"
                }
            },
            "patterns": [
                {
                    "include": "#type-object-members"
                }
            ]
        },
        "type-operators": {
            "patterns": [
                {
                    "include": "#typeof-operator"
                },
                {
                    "name": "keyword.operator.type.ts",
                    "match": "[&|]"
                },
                {
                    "name": "keyword.operator.expression.keyof.ts",
                    "match": "(?<!\\.|\\$)\\bkeyof\\b(?!\\$)"
                }
            ]
        },
        "type-paren-or-function-parameters": {
            "name": "meta.type.paren.cover.ts",
            "begin": "\\(",
            "beginCaptures": {
                "0": {
                    "name": "meta.brace.round.ts"
                }
            },
            "end": "\\)",
            "endCaptures": {
                "0": {
                    "name": "meta.brace.round.ts"
                }
            },
            "patterns": [
                {
                    "include": "#type"
                },
                {
                    "include": "#function-parameters"
                }
            ]
        },
        "type-tuple": {
            "name": "meta.type.tuple.ts",
            "begin": "\\[",
            "beginCaptures": {
                "0": {
                    "name": "meta.brace.square.ts"
                }
            },
            "end": "\\]",
            "endCaptures": {
                "0": {
                    "name": "meta.brace.square.ts"
                }
            },
            "patterns": [
                {
                    "include": "#type"
                },
                {
                    "include": "#punctuation-comma"
                }
            ]
        },
        "type": {
            "name": "meta.type.ts",
            "patterns": [
                {
                    "include": "#ts-string"
                },
                {
                    "include": "#numeric-literal"
                },
                {
                    "include": "#type-builtin-literals"
                },
                {
                    "include": "#type-tuple"
                },
                {
                    "include": "#type-object"
                },
                {
                    "include": "#type-operators"
                },
                {
                    "include": "#type-fn-type-parameters"
                },
                {
                    "include": "#type-paren-or-function-parameters"
                },
                {
                    "include": "#type-name"
                }
            ]
        },
        "typeof-operator": {
            "name": "keyword.operator.expression.typeof.ts",
            "match": "(?<!\\.|\\$)\\btypeof\\b(?!\\$)"
        },
        "undefined-literal": {
            "name": "constant.language.undefined.ts",
            "match": "(?<!\\.|\\$)\\bundefined\\b(?!\\$)"
        },
        "var-expr": {
            "name": "meta.var.expr.ts",
            "begin": "(?<!\\.|\\$)(?:(\\bexport)\\s+)?\\b(var|let|const(?!\\s+enum\\b))\\b(?!\\$)",
            "beginCaptures": {
                "1": {
                    "name": "keyword.control.export.ts"
                },
                "2": {
                    "name": "storage.type.ts"
                }
            },
            "end": "(?=$|;|\"|}|(\\s+(of|in)\\s+))",
            "patterns": [
                {
                    "include": "#var-single-variable"
                },
                {
                    "include": "#variable-initializer"
                },
                {
                    "include": "#punctuation-comma"
                }
            ]
        },
        "var-single-variable": {
            "patterns": [
                {
                    "name": "meta.var-single-variable.expr.ts",
                    "begin": "(?x)([_$[:alpha:]][_$[:alnum:]]*)(?=\\s* (=\\s*( (async\\s+) | (function\\s*[(<]) | (function\\s+) | ([_$[:alpha:]][_$[:alnum:]]*\\s*=>) | ((<([^<>]|\\<[^<>]+\\>)+>\\s*)?\\(([^()]|\\([^()]*\\))*\\)(\\s*:\\s*(.)*)?\\s*=>)) ) | (:\\s*( (<) | ([(]\\s*( ([)]) | (\\.\\.\\.) | ([_$[:alnum:]]+\\s*( ([:,?=])| ([)]\\s*=>) )) ))) ))",
                    "beginCaptures": {
                        "1": {
                            "name": "entity.name.function.ts"
                        }
                    },
                    "end": "(?=$|\"|[;,=}]|(\\s+(of|in)\\s+))",
                    "patterns": [
                        {
                            "include": "#type-annotation"
                        },
                        {
                            "include": "#ts-string"
                        }
                    ]
                },
                {
                    "name": "meta.var-single-variable.expr.ts",
                    "begin": "([_$[:alpha:]][_$[:alnum:]]*)",
                    "beginCaptures": {
                        "1": {
                            "name": "variable.other.readwrite.ts"
                        }
                    },
                    "end": "(?=$|\"|[;,=}]|(\\s+(of|in)\\s+))",
                    "patterns": [
                        {
                            "include": "#type-annotation"
                        },
                        {
                            "include": "#ts-string"
                        }
                    ]
                }
            ]
        },
        "variable-initializer": {
            "begin": "(?<!=|!)(=)(?!=)",
            "beginCaptures": {
                "1": {
                    "name": "keyword.operator.assignment.ts"
                }
            },
            "end": "(?=$|[,);}\\]])",
            "patterns": [
                {
                    "include": "#angular-expression"
                }
            ]
        }
    }
}